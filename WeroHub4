-- Capturar prints en TextLabel
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- Crear GUI para mensajes si no existe
if not PlayerGui:FindFirstChild("MensajesGUI") then
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "MensajesGUI"
    screenGui.ResetOnSpawn = false
    screenGui.Parent = PlayerGui

    local mensajeLabel = Instance.new("TextLabel")
    mensajeLabel.Name = "MensajeLabel"
    mensajeLabel.Text = ""
    mensajeLabel.Size = UDim2.new(0.3, 0, 0.07, 0)
    mensajeLabel.Position = UDim2.new(0.35, 0, 0.05, 0)
    mensajeLabel.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    mensajeLabel.TextColor3 = Color3.fromRGB(0, 255, 127)
    mensajeLabel.TextSize = 18
    mensajeLabel.Font = Enum.Font.GothamBold
    mensajeLabel.Visible = false
    mensajeLabel.BackgroundTransparency = 0.2
    mensajeLabel.TextScaled = true
    mensajeLabel.BorderSizePixel = 0
    mensajeLabel.Parent = screenGui
end

-- Redirigir print a TextLabel y consola
local originalPrint = print
print = function(...)
    local args = {...}
    local text = ""
    for i, v in ipairs(args) do
        text = text .. tostring(v)
        if i < #args then text = text .. " " end
    end
    -- Mostrar en consola
    originalPrint(text)
    -- Mostrar en GUI
    local gui = PlayerGui:WaitForChild("MensajesGUI")
    local label = gui:WaitForChild("MensajeLabel")
    label.Text = text
    label.Visible = true
    task.delay(3, function()
        label.Visible = false
    end)
end

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
    Name = "WeroHub",
    Icon = 89001596756285,
    LoadingTitle = "Loading WeroHub",
    LoadingSubtitle = "by Wero",
    Theme = "Amethyst",
    DisableRayfieldPrompts = false,
    DisableBuildWarnings = false,
    ConfigurationSaving = { Enabled = true, FolderName = nil, FileName = "Big Hub" },
    Discord = { Enabled = false, Invite = "noinvitelink", RememberJoins = true },
    KeySystem = false,
    KeySettings = {
        Title = "Untitled", Subtitle = "Key System", Note = "No method of obtaining the key is provided",
        FileName = "Key", SaveKey = true, GrabKeyFromSite = false, Key = {"Hello"}
    }
})

-- Tab Creation
local TeleportTab   = Window:CreateTab("Teleport", 4483362458)
local PlayerTab     = Window:CreateTab("Player", 4483362458)
local ScriptsTab    = Window:CreateTab("Scripts", 4483362458)
local CharacterTab  = Window:CreateTab("Modificar Características", 4483362458)
local HerramientasTab = Window:CreateTab("🔧 Herramientas", 4483362458)
local TrolearTab    = Window:CreateTab("Trolear", 4483362458)
local MiscTab = Window:CreateTab("🔧 Miscs", 4483362458)

-- Services
local Players           = game:GetService("Players")
local TweenService      = game:GetService("TweenService")
local Workspace         = game:GetService("Workspace")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local ServerScriptService = game:GetService("ServerScriptService")

local localPlayer = Players.LocalPlayer

-- ============================================================
-- TELEPORT TAB
-- ============================================================
-- TP to Player
TeleportTab:CreateInput({
    Name = "TP to Player", PlaceholderText = "Player Name", RemoveTextAfterFocusLost = false,
    Flag = "TPToPlayer", Callback = function(text)
        local plr = Players:FindFirstChild(text)
        if plr and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
            local hrp = plr.Character.HumanoidRootPart
            local myHrp = localPlayer.Character and localPlayer.Character:FindFirstChild("HumanoidRootPart")
            if myHrp then
                -- Ascend
                myHrp.CFrame = myHrp.CFrame * CFrame.new(0, 10, 0)
                -- Fly
                local targetPos = hrp.Position + Vector3.new(0, 10, 0)
                local dist = (targetPos - myHrp.Position).Magnitude
                local tween = TweenService:Create(myHrp, TweenInfo.new(dist/250, Enum.EasingStyle.Linear), {CFrame = CFrame.new(targetPos)})
                tween:Play()
                tween.Completed:Connect(function()
                    local descend = TweenService:Create(myHrp, TweenInfo.new(0.5, Enum.EasingStyle.Sine, Enum.EasingDirection.In), {CFrame = CFrame.new(hrp.Position)})
                    descend:Play()
                end)
            end
        end
    end,
})

-- TP to Fruit
TeleportTab:CreateToggle({
    Name = "Tp to Fruit", CurrentValue = false, Flag = "TpToFruit",
    Callback = function(active)
        if not active then return end
        local myHrp = localPlayer.Character and localPlayer.Character:FindFirstChild("HumanoidRootPart")
        if not myHrp then return end
        local closest, dist = nil, math.huge
        for _, obj in ipairs(Workspace:GetChildren()) do
            if obj:IsA("Tool") and obj:FindFirstChild("Handle") then
                local d = (obj.Handle.Position - myHrp.Position).Magnitude
                if d < dist then dist, closest = d, obj end
            end
        end
        if closest then
            local tween = TweenService:Create(myHrp, TweenInfo.new(dist/250, Enum.EasingStyle.Linear), {CFrame = CFrame.new(closest.Handle.Position)})
            tween:Play()
        end
    end,
})

-- Ir a GoldenChest
local flyingEnabled = false
local flightConnection = nil
local flightRunning = false

TeleportTab:CreateToggle({
    Name = "Auto farm Gold(Build a Boat)",
    CurrentValue = false,
    Callback = function(value)
        flyingEnabled = value

        local function startFlying()
            if flightRunning then return end
            flightRunning = true

            task.spawn(function()
                local char = localPlayer.Character or localPlayer.CharacterAdded:Wait()
                local hrp = char:WaitForChild("HumanoidRootPart")
                local humanoid = char:WaitForChild("Humanoid")
                local TweenService = game:GetService("TweenService")

                local waypoints = {
                    Vector3.new(-55.3, 99.3, 743.4),
		    Vector3.new(-63.9, 97.4, 2592.5),
		    Vector3.new(-53.8, 113, 4329.7),
		    Vector3.new(-68.7, 92.9, 5842.8),
                    Vector3.new(-45.2, 108.1, 8669.0),
                    Vector3.new(-44.1, -254.1, 8810.3),
                    Vector3.new(-55.9, -356.3, 9441.7),
                    Vector3.new(-56.9, -344.2, 9487.2),
                }

                local speed = 450

                local function flyTo(position, isFinal)
                    local distance = (hrp.Position - position).Magnitude
                    local time = distance / speed
                    local tween = TweenService:Create(hrp, TweenInfo.new(time, Enum.EasingStyle.Linear), {CFrame = CFrame.new(position)})
                    tween:Play()
                    tween.Completed:Wait()

                    if isFinal then
                        -- Desactivar velocidad residual
                        hrp.Velocity = Vector3.zero
                        hrp.RotVelocity = Vector3.zero

                        -- Suavemente posicionarse un poco arriba del suelo
                        task.wait(0.1)
                        hrp.CFrame = CFrame.new(position + Vector3.new(0, 1.5, 0))
                    end
                end

                for i, pos in ipairs(waypoints) do
                    if not flyingEnabled then break end
                    flyTo(pos, i == #waypoints)
                end

                flightRunning = false
            end)
        end

        if flyingEnabled then
            startFlying()

            -- Reconectar si el jugador muere
            if flightConnection then flightConnection:Disconnect() end
            flightConnection = localPlayer.CharacterAdded:Connect(function()
                if flyingEnabled then
                    flightRunning = false
                    task.wait(1)
                    startFlying()
                end
            end)
        else
            -- Toggle OFF
            if flightConnection then
                flightConnection:Disconnect()
                flightConnection = nil
            end
        end
    end,
})

local StealTab = Window:CreateTab("Steal a Brainrot", 4483362458)

local savedPosition = nil
local RunService = game:GetService("RunService")
local SPEED_VALUE = 57
local speedBypassConnection

local Toggle = StealTab:CreateToggle({ -- <- usar StealTab aquí
    Name = "Speed 57 Bypass",
    CurrentValue = false,
    Flag = "Toggle1",
    Callback = function(Value)
        local character = game.Players.LocalPlayer.Character or game.Players.LocalPlayer.CharacterAdded:Wait()
        local humanoid = character:FindFirstChildOfClass("Humanoid")

        if not humanoid then return end

        if Value then
            humanoid.WalkSpeed = SPEED_VALUE
            speedBypassConnection = RunService.Heartbeat:Connect(function()
                pcall(function()
                    if humanoid and humanoid.WalkSpeed ~= SPEED_VALUE then
                        humanoid.WalkSpeed = SPEED_VALUE
                    end
                end)
            end)
        else
            if speedBypassConnection then
                speedBypassConnection:Disconnect()
                speedBypassConnection = nil
            end
            humanoid.WalkSpeed = 16
        end
    end,
})

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local savedPosition = nil

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local localPlayer = Players.LocalPlayer

local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local localPlayer = Players.LocalPlayer

-- Variable para guardar la posición
local savedPosition = nil

-- Variables vuelo
local flying = false
local bodyVelocity
local flyConnection

-- Función para comenzar vuelo gradual con bypass
local function startFly(targetPos)
    local character = localPlayer.Character
    if not character then return end
    local hrp = character:FindFirstChild("HumanoidRootPart")
    if not hrp then return end

    if flying then return end
    flying = true

    bodyVelocity = Instance.new("BodyVelocity")
    bodyVelocity.MaxForce = Vector3.new(1e5, 1e5, 1e5)
    bodyVelocity.Velocity = Vector3.new(0,0,0)
    bodyVelocity.Parent = hrp

    local stage = 1 -- 1: subir 10 studs, 2: mover a destino, 3: bajar 10 studs

    flyConnection = RunService:BindToRenderStep("FlyStep", 301, function()
        if not flying or not hrp.Parent then
            flying = false
            RunService:UnbindFromRenderStep("FlyStep")
            if bodyVelocity then bodyVelocity:Destroy() bodyVelocity=nil end
            return
        end

        if stage == 1 then
            local target = hrp.Position + Vector3.new(0,10,0)
            local dir = (target - hrp.Position).Unit
            local dist = (target - hrp.Position).Magnitude
            if dist < 0.5 then
                stage = 2
            else
                bodyVelocity.Velocity = dir * 59
            end

        elseif stage == 2 then
            local target = Vector3.new(targetPos.X, hrp.Position.Y, targetPos.Z) + Vector3.new(0,10,0)
            local dir = (target - hrp.Position).Unit
            local dist = (target - hrp.Position).Magnitude
            if dist < 0.5 then
                stage = 3
            else
                bodyVelocity.Velocity = dir * 59
            end

        elseif stage == 3 then
            local target = Vector3.new(targetPos.X, targetPos.Y, targetPos.Z)
            local dir = (target - hrp.Position).Unit
            local dist = (target - hrp.Position).Magnitude
            if dist < 0.5 then
                flying = false
                RunService:UnbindFromRenderStep("FlyStep")
                if bodyVelocity then bodyVelocity:Destroy() bodyVelocity=nil end
                return
            else
                bodyVelocity.Velocity = dir * 59
            end
        end
    end)
end

local function stopFly()
    flying = false
    if bodyVelocity then
        bodyVelocity:Destroy()
        bodyVelocity = nil
    end
    if flyConnection then
        RunService:UnbindFromRenderStep("FlyStep")
        flyConnection = nil
    end
end

-- TP Forward con tween rápido para evitar detección
local function TPForward()
    local character = localPlayer.Character
    if not character then return end
    local hrp = character:FindFirstChild("HumanoidRootPart")
    if not hrp then return end

    local direction = hrp.CFrame.LookVector
    local targetPos = hrp.Position + direction * 4

    local tweenInfo = TweenInfo.new(0.1, Enum.EasingStyle.Linear)
    local tween = TweenService:Create(hrp, tweenInfo, {CFrame = CFrame.new(targetPos)})
    tween:Play()
    tween.Completed:Wait()
end
-- Toggle para Auto Fly (usar la posición guardada)
local AutoFlyToggle = StealTab:CreateToggle({
    Name = "Auto Fly to Saved Position",
    CurrentValue = false,
    Flag = "AutoFlyToggle",
    Callback = function(value)
        if value then
            if savedPosition then
                startFly(savedPosition)
            else
                print("No position saved yet!")
            end
        else
            stopFly()
        end
    end,
})

-- Botón para guardar posición actual
StealTab:CreateButton({
    Name = "Save Current Position",
    Callback = function()
        local char = localPlayer.Character
        if not char then return end
        local hrp = char:FindFirstChild("HumanoidRootPart")
        if not hrp then return end
        savedPosition = hrp.Position
        print("Position saved at: "..tostring(savedPosition))
    end,
})

-- Botón para volar a posición guardada (lanza vuelo cuando se precione)
StealTab:CreateButton({
    Name = "Fly to Saved Position",
    Callback = function()
        if savedPosition then
            startFly(savedPosition)
        else
            print("No position saved!")
        end
    end,
})

-- Botón TP Forward
StealTab:CreateButton({
    Name = "TP Forward (Bypass)",
    Callback = function()
        TPForward()
    end,
})
-- ============================================================
-- SCRIPTS TAB
-- ============================================================
ScriptsTab:CreateButton({Name="Hoho Hub", Callback=function()
print("Hoho Hub Executed")
    loadstring(game:HttpGet("https://raw.githubusercontent.com/acsu123/HOHO_H/main/Loading_UI"))()
end})

ScriptsTab:CreateButton({Name="Steal a Brainrot INSTANT", Callback=function()
print("Steal a Brainrot Script Executed")
    loadstring(game:HttpGet("https://raw.githubusercontent.com/Youifpg/Steal-a-Brainrot-op/refs/heads/main/Arbixhub-obfuscated.lua"))()
end})

ScriptsTab:CreateButton({Name="Steal a Brainrot(Patched)", Callback=function()
print("Steal a Brainrot Script Executed")
    loadstring(game:HttpGet("https://raw.githubusercontent.com/tienkhanh1/spicy/main/Chilli.lua"))()
end})


ScriptsTab:CreateButton({Name="Steal a Brainrot (Patched)", Callback=function()
print("Steal a Brainrot Script Executed")
    loadstring(game:HttpGet("https://api.luarmor.net/files/v3/loaders/fba54fa6e2751198c333f29d213065fc.lua"))()
end})

ScriptsTab:CreateButton({Name="Grow a Garden AutoMiddle Pets", Callback=function()
print("Grow a Garden Script Executed")
    loadstring(game:HttpGet(('https://raw.githubusercontent.com/FakeModz/LimitHub/refs/heads/main/LimitHub_Luarmor_E.lua')))()
end})

ScriptsTab:CreateButton({Name="Grow a Garden Inf Sprinkler", Callback=function()
print("Grow a Garden Script Executed")
    loadstring(game:HttpGet("https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua", true))()
end})

ScriptsTab:CreateButton({Name="Grow a Garden", Callback=function()
print("Grow a Garden Script Executed")
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ArdyBotzz/NatHub/refs/heads/master/NatHub.lua"))()
end})

ScriptsTab:CreateButton({Name="Infinity yield", Callback=function()
print("Infinity Yield Executed")
    loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
end})

ScriptsTab:CreateButton({Name="Dex", Callback=function()
print("Dex Executed")
    loadstring(game:HttpGet("https://pastebin.com/raw/FeMbE4xS"))()
end})

ScriptsTab:CreateButton({Name="DeadRailsBonds", Callback=function()
print("DeadRails Script Executed")
    loadstring(game:HttpGet("https://raw.githubusercontent.com/thantzy/thanhub/refs/heads/main/thanv1"))()
end})

ScriptsTab:CreateButton({Name="DeadRailsBonds2", Callback=function()
print("DeadRails Script Executed")
    loadstring(game:HttpGet("https://getnative.cc/script/loader"))()
end})

ScriptsTab:CreateButton({Name="DeadRails3", Callback=function()
print("DeadRails Script Executed")
    loadstring(game:HttpGet("https://raw.githubusercontent.com/gumanba/Scripts/main/DeadRails"))()
end})

local Button = ScriptsTab:CreateButton({
    Name = "RemoteSpy v3",
    Callback = function()
	print("RemoteSpy v3 Executed")
        loadstring(game:HttpGet("https://raw.githubusercontent.com/JaoExploiter/StellySpyV3/refs/heads/main/StellySpyV3.txt"))()
    end,
})

local Button = ScriptsTab:CreateButton({
    Name = "Blox Fruits Script",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/tlredz/Scripts/refs/heads/main/main.luau"))()
    end,
})

local Button = ScriptsTab:CreateButton({
    Name = "Fisch Script",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/IdiotHubz/Scripts/refs/heads/main/Fisch/SpaceHub.lua"))()
    end,
})

local Button = ScriptsTab:CreateButton({
    Name = "C00lkidd GUI",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/ShutUpJamesTheLoser/C00lkiddgui/refs/heads/main/C00lkiddgui"))()

    end,
})


local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")
local VirtualUser = game:GetService("VirtualUser")

-- Crear GUI si no existe
if not PlayerGui:FindFirstChild("MensajesGUI") then
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "MensajesGUI"
    screenGui.ResetOnSpawn = false
    screenGui.Parent = PlayerGui

    local mensajeLabel = Instance.new("TextLabel")
    mensajeLabel.Name = "MensajeLabel"
    mensajeLabel.Text = ""
    mensajeLabel.Size = UDim2.new(0.3, 0, 0.07, 0)
    mensajeLabel.Position = UDim2.new(0.35, 0, 0.05, 0)
    mensajeLabel.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    mensajeLabel.TextColor3 = Color3.fromRGB(0, 255, 127)
    mensajeLabel.TextSize = 18
    mensajeLabel.Font = Enum.Font.GothamBold
    mensajeLabel.Visible = false
    mensajeLabel.BackgroundTransparency = 0.2
    mensajeLabel.TextScaled = true
    mensajeLabel.BorderSizePixel = 0
    mensajeLabel.Parent = screenGui
end

-- Función para mostrar mensajes bonitos
local function MostrarMensaje(texto)
    local gui = PlayerGui:WaitForChild("MensajesGUI")
    local label = gui:WaitForChild("MensajeLabel")
    label.Text = texto
    label.Visible = true
    task.wait(3)
    label.Visible = false
end

-- Variable para manejar conexión Anti AFK
local AntiAFK_Connection

-- Toggle Anti AFK en Rayfield
MiscTab:CreateToggle({
    Name = "🛡️ Anti AFK",
    CurrentValue = false,
    Callback = function(Value)
        if Value then
            AntiAFK_Connection = Players.LocalPlayer.Idled:Connect(function()
                VirtualUser:Button2Down(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
                task.wait(1)
                VirtualUser:Button2Up(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
            end)
            MostrarMensaje("✅ Anti AFK activado.")
        else
            if AntiAFK_Connection then
                AntiAFK_Connection:Disconnect()
                AntiAFK_Connection = nil
                MostrarMensaje("❌ Anti AFK desactivado.")
            end
        end
    end,
})

MiscTab:CreateToggle({
	Name = "📍 Mostrar posición actual",
	CurrentValue = false,
	Callback = function(Value)
		local player = game.Players.LocalPlayer
		local RunService = game:GetService("RunService")
		local guiName = "PosicionGUI"
		local connection

		if Value then
			-- Crear GUI y TextLabel si no existe
			local gui = player:FindFirstChild("PlayerGui"):FindFirstChild(guiName)
			if not gui then
				gui = Instance.new("ScreenGui")
				gui.Name = guiName
				gui.ResetOnSpawn = false
				gui.Parent = player:WaitForChild("PlayerGui")
			end

			local label = gui:FindFirstChild("PosLabel")
			if not label then
				label = Instance.new("TextLabel")
				label.Name = "PosLabel"
				label.Size = UDim2.new(0, 300, 0, 30)
				label.Position = UDim2.new(0, 10, 0, 10)
				label.BackgroundColor3 = Color3.new(0, 0, 0)
				label.BackgroundTransparency = 0.3
				label.TextColor3 = Color3.new(1, 1, 1)
				label.TextScaled = true
				label.Font = Enum.Font.SourceSansBold
				label.Text = "Posición: "
				label.Parent = gui
			end

			label.Visible = true

			-- Iniciar actualizador de posición
			connection = RunService.RenderStepped:Connect(function()
				if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
					local pos = player.Character.HumanoidRootPart.Position
					label.Text = string.format("Posición: (%.1f, %.1f, %.1f)", pos.X, pos.Y, pos.Z)
				end
			end)

			-- Guardar la conexión para desconectar luego
			gui:SetAttribute("UpdaterConnection", connection)
		else
			local gui = player:FindFirstChild("PlayerGui"):FindFirstChild(guiName)
			if gui then
				local label = gui:FindFirstChild("PosLabel")
				if label then label:Destroy() end

				local conn = gui:GetAttribute("UpdaterConnection")
				if conn then
					pcall(function() conn:Disconnect() end)
				end

				gui:Destroy()
			end
		end
	end,
})

MiscTab:CreateToggle({
	Name = "💨 Mostrar velocidad actual",
	CurrentValue = false,
	Callback = function(Value)
		local player = game.Players.LocalPlayer
		local RunService = game:GetService("RunService")
		local guiName = "VelocidadGUI"
		local connection

		if Value then
			local gui = player.PlayerGui:FindFirstChild(guiName)
			if not gui then
				gui = Instance.new("ScreenGui")
				gui.Name = guiName
				gui.ResetOnSpawn = false
				gui.Parent = player.PlayerGui
			end

			local label = gui:FindFirstChild("VelocidadLabel")
			if not label then
				label = Instance.new("TextLabel")
				label.Name = "VelocidadLabel"
				label.Size = UDim2.new(0, 300, 0, 30)
				label.Position = UDim2.new(0, 10, 0, 50)
				label.BackgroundColor3 = Color3.new(0, 0, 0)
				label.BackgroundTransparency = 0.3
				label.TextColor3 = Color3.new(1, 1, 1)
				label.TextScaled = true
				label.Font = Enum.Font.SourceSansBold
				label.Text = "Velocidad: "
				label.Parent = gui
			end

			label.Visible = true

			connection = RunService.RenderStepped:Connect(function()
				local hrp = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
				if hrp then
					local speed = hrp.Velocity.Magnitude
					label.Text = string.format("Velocidad: %.1f", speed)
				end
			end)

			gui:SetAttribute("SpeedConnection", connection)
		else
			local gui = player.PlayerGui:FindFirstChild(guiName)
			if gui then
				local label = gui:FindFirstChild("VelocidadLabel")
				if label then label:Destroy() end

				local conn = gui:GetAttribute("SpeedConnection")
				if conn then
					pcall(function() conn:Disconnect() end)
				end

				gui:Destroy()
			end
		end
	end,
})

MiscTab:CreateToggle({
    Name = "🕒 Mostrar hora actual en México",
    CurrentValue = false,
    Callback = function(Value)
        local player = game.Players.LocalPlayer
        local RunService = game:GetService("RunService")
        local guiName = "HoraMexicoGUI"
        local connection

        if Value then
            -- Crear GUI y TextLabel si no existe
            local gui = player:FindFirstChild("PlayerGui"):FindFirstChild(guiName)
            if not gui then
                gui = Instance.new("ScreenGui")
                gui.Name = guiName
                gui.ResetOnSpawn = false
                gui.Parent = player:WaitForChild("PlayerGui")
            end

            local label = gui:FindFirstChild("HoraLabel")
            if not label then
                label = Instance.new("TextLabel")
                label.Name = "HoraLabel"
                label.Size = UDim2.new(0, 300, 0, 30)
                label.Position = UDim2.new(0, 10, 0, 10)
                label.BackgroundColor3 = Color3.new(0, 0, 0)
                label.BackgroundTransparency = 0.3
                label.TextColor3 = Color3.new(1, 1, 1)
                label.TextScaled = true
                label.Font = Enum.Font.SourceSansBold
                label.Text = "Hora de México: "
                label.Parent = gui
            end

            label.Visible = true

            -- Iniciar actualizador de hora
            connection = RunService.RenderStepped:Connect(function()
                local currentTime = os.date("!*t", os.time()) -- Obtiene hora UTC
                -- Convertir la hora UTC a hora de México (zona horaria UTC -6)
                currentTime.hour = currentTime.hour - 6
                if currentTime.hour < 0 then
                    currentTime.hour = currentTime.hour + 24
                end
                label.Text = string.format("Hora de México: %02d:%02d:%02d", currentTime.hour, currentTime.min, currentTime.sec)
            end)

            -- Guardar la conexión para desconectar luego
            gui:SetAttribute("TimeConnection", connection)
        else
            local gui = player:FindFirstChild("PlayerGui"):FindFirstChild(guiName)
            if gui then
                local label = gui:FindFirstChild("HoraLabel")
                if label then label:Destroy() end

                local conn = gui:GetAttribute("TimeConnection")
                if conn then
                    pcall(function() conn:Disconnect() end)
                end

                gui:Destroy()
            end
        end
    end,
})


-- End of WeroHub Script

